<section class="d-flex justify-content-center">
    <mat-card appearance="outlined" class="d-flex flex-column w-50 mt-5" >

        <mat-card-header>
            <mat-card-title>
                Cretae your account
            </mat-card-title>
        </mat-card-header>

        <mat-card-content>
            <form [formGroup]="form" (ngSubmit)="onSubmit()"
            class="d-flex flex-column">
             
            <mat-form-field appearance="fill">
                <mat-label>
                    User name
                </mat-label>
                <input matInput type="text" formControlName="username" required>
                @if (form.get('username')?.hasError('required') && form.get('username')?.touched){
                    <mat-error>
                        User name is required
                    </mat-error>
                }
            </mat-form-field>

            <mat-form-field appearance="fill">
                <mat-label>
                    Email
                </mat-label>
                <input matInput type="text" formControlName="email" required>
                @if (form.get('email')?.hasError('required') && form.get('username')?.touched){
                    <mat-error>
                        Email is required
                    </mat-error>
                }
                @if (form.get('email')?.hasError('email') && form.get('username')?.touched){
                    <mat-error>
                        Please enter a valid email
                    </mat-error>
                }
            </mat-form-field>


            <mat-form-field appearance="fill">
                <mat-label>
                    Password
                </mat-label>
                <input matInput type="text" formControlName="password" required>
                @if (form.get('password')?.hasError('required') && form.get('username')?.touched){
                    <mat-error>
                        Password is required
                    </mat-error>
                }
                @if (form.get('password')?.hasError('minLength') && form.get('username')?.touched){
                    <mat-error>
                        Password  must be at least 8 characters long
                    </mat-error>
                }
            </mat-form-field>

            <mat-form-field appearance="fill">
                <mat-label>
                    Name
                </mat-label>
                <input matInput type="text" formControlName="firstName">
            </mat-form-field>

             <mat-form-field appearance="fill">
                <mat-label>
                    Last Name
                </mat-label>
                <input matInput type="text" formControlName="lastName">
            </mat-form-field>

            <mat-form-field appearance="fill">
                <mat-label>
                   Phone
                </mat-label>
                <input matInput type="text" formControlName="phone">
            </mat-form-field>

            <mat-checkbox formControlName="acceptterms" color="primary">
                I agree to the terms and conditions.
            </mat-checkbox>
             @if (form.get('acceptterms')?.hasError('required') && form.get('username')?.touched){
                    <mat-error>
                        You must accept terms and conditions.
                    </mat-error>
                }

                    <button mat-raised-button color_="primary" [disabled]="form.invalid" class="w-full">
                        Register
                    </button>

            </form>
        </mat-card-content>

    </mat-card>
</section>
